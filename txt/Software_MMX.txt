Software MMX
MMX procesory potřebují také MMX software – tvrdí v každém případě softwarový průmysl. Ovšem běží MMX programy s novými procesory skutečně rychleji?

Hádanky kolem výkonu MMX

Procesor s technologií MMX se vyznačuje třemi různými architektonickými změnami, které prohání multimediální software. Intel za prvé rozšířil soubor funkcí procesoru o 57 no- vých instrukcí, které mohou urychlit například výpočty obrazových bodů ve hrách. Za druhé zavedl proces Single Multiple Data (SIMD), který umožňuje například to, že se jedna instrukce může použít současně pro několik pixelů obrazu, aniž by se počítal pixel za pixelem zvlášť.
Procesor MMX je ovšem plně kompatibilní s předchozími modely jakými jsou Pentium nebo procesory 486. Toho vývojáři dosáhli tím, že za koprocesor schovali MMX rozšíření. MMX instrukce používají tytéž registry jako koprocesor, ale pro běžný software jsou neviditelné. Kromě toho byla rozšířena interní L1 cache MMX CPU na 32 KB.
Takové změny jsou korunovány úspěchem jen tehdy, je-li k dispozici dostatečný software, který nové funkce umí využívat. Aby měli programátoři na vývoj dost času a při odstartování prodeje jsme nezůstali stát bez vhodného softwaru, zveřejnil Intel technické podrobnosti MMX rozšíření už tři čtvrtě roku před uvedením prvních MMX procesorů. Od té doby představuje programy podporující MMX stále více producentů softwaru. Intel mluví už o více než 100 aplikací, které podporují MMX technologie.

Žádné dělení světů
Majitel normálního Pentia se samozřejmě ptá, zda u něho nový software vůbec funguje. Většina MMX programů naštěstí běží i na počítačích bez MMX technologie. Pouze když software objeví MMX čip, použije i přídavné instrukce. Také majitelé CPU bez MMX tedy mohou používat odladěný software, i když požitku z rychlejšího zpracování nebo lepší grafiky samozřejmě nedosáhnou.
Jen u her existují speciální MMX verze, které potřebují MMX CPU. To není neobvyklé, protože přece existují také verze, které spolupracují jen s určitými urychlovači grafiky, například u karet 3Dfx. Zvláštní případ představuje 3D hra Rebel Moon Rising firmy GT Interactive, která je vyvinuta výhradně pro MMX CPU a na normálním Pentiu neběží.

Jak funguje MMX software
Aplikace mohou v zásadě oslovit MMX rozšíření dvěma způsoby: buď přistupují na MMX rozhraní, nebo samy pracují s MMX instrukcemi. Pro vývojáře softwaru, kteří chtějí ve svých aplikacích použít 3D grafiky, se nabízí například Direct-3D-API Microsoftu. Tento Application Programming Interface je počínaje verzí 3 součástí sady DirectX a poskytuje programátorovi normované 3D grafické rozhraní pod Windows 95. Ten může přes toto rozhraní přímo přistupovat ke službám MMX a tím dosáhnout vyšší rychlosti a kvality u 3D scén.
Věc má ovšem jeden háček. Výrobci softwaru musí svůj programový kód přesně přizpůsobit požadavkům API – jinak nelze očekávat žádné zvýšení výkonu způsobené MMX. Náklady na tuto optimalizaci jsou podle příslušného programového kódu velmi vysoké a nejsou často úměrné dosaženému zvýšení rychlosti. Má-li být software kompatibilní i s procesory bez MMX technologie, musí být programový kód navíc k dispozici ve dvou verzích: jednak s přizpůsobením na MMX, jednak bez něho.
S tímto problémem musí ostatně bojovat i vývojáři softwaru, kteří přímo pracují s MMX instrukcemi ve svém kódu. Potenciál pro zvyšování výkonu je sice daleko větší, vyšší jsou ovšem také náklady na optimalizaci.

Rychlé hry – pomalý kancelářský software
To, že multimediální aplikace jako hry nebo videosoftware z MMX profitují, se dalo čekat. To, zda standardní programy dosáhnou některých předností, jsme testovali kancelářským softwarem, vyvinutým poprvé pro MMX – Wordperfect Suite 8 firmy Corel. Tento produkt nese logo Designed for Intel MMX a musel prokázat svoji údajnou přednost na procesoru Pentium se softwarem MMX a bez něho. Rychlost jsme testovali na 166MHz počítači s 32 MB RAM, ve kterém byly měněny pouze procesory. Úkolem softwaru bylo prostřednictvím automatizujícího skriptu provádět běžné operace, jakými jsou např. otevírání a ukládání souborů, změna velikosti zobrazení a přesouvání textu. Wordperfect Suite k těmto operacím potřeboval s procesorem MMX 44 min a 20 s, zatímco s Pentiem bez MMX běžely stopky jen o 4 min 40 s déle. Výkonnostní náskok procesoru s MMX byl tedy pouze 10 %, a to zřejmě jen díky zdvojené paměti cache první úrovně. Z toho tedy může profitovat každý software.
Podstatně větší výkon s použitím technologie MMX se očekává u softwaru pro zpracování obrazu. Podívali jsme se proto na produkt Kai’s Photo Soap firmy Metacreations. MMX software musel jako Wordperfect dokázat svoji výkonnost na Pentiu s MMX a na Pentiu standardním. Software opět zpracovával scénář s běžnými operacemi, například barevné transformace, interpolace a filtr efektu. Také v této oblasti je výsledek zklamáním: 42 minut a 55 sekund oproti 46 minutám a 41 sekundám, takže se dá sotva mluvit o rychlostních výhodách MMX. Stálé přístupy na disk brzdily rychlejší procesor. Mimo to dosahuje při zpracování obrazu v současné době jen málo instrukcí velkého zvýšení výkonu.

Shrnutí
Nesporných výhod může MMX software dosáhnout u her a u speciálních instrukcí v oblasti zpracování obrazu. U grafických aplikací bychom si však měli přesně rozmyslet, zda tyto zrychlené instrukce také skutečně použijeme – jinak dopadne výkonový přírůstek bledě. 
Kancelářské aplikace se koneckonců urychlují především díky rozšířené paměti cache.
Christian Anderka

Přestup se skoro nevyplatí
Praktické testy ukazují, že přednosti MMX při běžné denní práci sotva pocítíme. Každý software sice běží o deset procent rychleji, ale znatelné přírůstky rychlosti se objevují jen u ojedinělých funkcí. Pouze hráči si přijdou na své. Právě zde si však musíme položit otázku, zda se příplatek za MMX neuplatní lépe v urychlovači grafiky. Zejména např. rychlost her optimalizovaných pro grafický čip 3Dfx daleko přesahuje rychlost přizpůsobených MMX.
Pro toho, kdo používá graficky bohaté aplikace a tam speciálně funkce optimalizované pro MMX, se přestup na tuto technologii vyplatí. Průměrný uživatel Windows, který není žádným velkým nadšencem pro hry, však může klidně sáhnout po výhodnější nabídce s CPU bez MMX technologie.

MMX a hry
MMX technologie se nabízí právě pro graficky náročné hry. MMX technologie se používá spíše ve 2D oblasti, protože 3D scény jsou odkázány na výpočty v pohyblivé řádové čárce koprocesoru a MMX instrukce používají tytéž registry. Stálé přepínání mezi MMX a pohyblivou řádovou čárkou by zmařilo každý přírůstek výkonu. 2D efekty však mají z MMX velký užitek. MMX může současně zpracovat několik pixelů a pomocí speciálních instrukcí rychle provádět výpočty. Kromě toho používáme MMX rozšíření k interpolaci obrazu pro grafickou kartu v reálném čase.
